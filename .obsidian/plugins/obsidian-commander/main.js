/*
THIS IS A GENERATED/BUNDLED FILE BY ROLLUP
if you want to view the source visit the plugins github repository
*/

'use strict';

var obsidian = require('obsidian');
var os = require('os');
var fs = require('fs');
var path = require('path');
var child_process = require('child_process');

function _interopNamespace(e) {
    if (e && e.__esModule) return e;
    var n = Object.create(null);
    if (e) {
        Object.keys(e).forEach(function (k) {
            if (k !== 'default') {
                var d = Object.getOwnPropertyDescriptor(e, k);
                Object.defineProperty(n, k, d.get ? d : {
                    enumerable: true,
                    get: function () { return e[k]; }
                });
            }
        });
    }
    n["default"] = e;
    return Object.freeze(n);
}

var os__namespace = /*#__PURE__*/_interopNamespace(os);
var fs__namespace = /*#__PURE__*/_interopNamespace(fs);
var path__namespace = /*#__PURE__*/_interopNamespace(path);

/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

obsidian.addIcon('stop', `
<rect
  style="fill:none;fill-opacity:1;stroke:currentColor;stroke-width:5.0125947;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
  id="rect825"
  width="89.674904"
  height="88.737404"
  x="5.1625481"
  y="5.6312981" />
`);
obsidian.addIcon('add', `
<path
  style="fill:none;stroke:currentColor;stroke-width:10;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
  d="M 86.228814,51.271186 H 9.9576265"
  id="path817"
  inkscape:connector-curvature="0" 
/>
<path
  inkscape:connector-curvature="0"
  id="path834"
  d="M 48.09322,89.40678 V 13.135592"
  style="fill:none;stroke:currentColor;stroke-width:10;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" 
/>
`);
obsidian.addIcon('run', `
<path fill="currentColor" stroke="currentColor" d="M37,16c-4.4,0-8.3,3.3-9.2,7.6l-11.6,52c-0.5,2.2,0,4.3,1.2,5.9c1.2,1.6,3.2,2.6,5.4,2.6H79c4.4,0,8.3-3.3,9.2-7.6 l11.6-52c0.5-2.2,0-4.3-1.2-5.9C97.4,17,95.4,16,93.2,16L37,16z M37,20h56.2c1.1,0,1.8,0.4,2.2,1c0.5,0.6,0.7,1.4,0.4,2.6l-1,4.4 H30.8l0.8-3.6C32.1,22.2,34.8,20,37,20z M29.9,32H94l-9.6,43.6C83.9,77.8,81.2,80,79,80H22.8c-1.1,0-1.8-0.4-2.2-1 c-0.5-0.6-0.7-1.4-0.4-2.6L29.9,32z M0,36v4h19.6l0.9-4L0,36z M36.7,38c-0.8,0.1-1.4,0.7-1.6,1.5l-3.5,14c-0.2,0.6,0,1.2,0.4,1.7 c0.4,0.5,1,0.8,1.6,0.8H81c0.9,0,1.7-0.6,1.9-1.5l3.5-14c0.2-0.6,0-1.3-0.4-1.8c-0.4-0.5-1-0.8-1.6-0.8H37.1c-0.1,0-0.1,0-0.2,0 C36.9,38,36.8,38,36.7,38L36.7,38z M38.7,42h43.2l-2.4,10H36.2L38.7,42z M0,52v4h16l0.9-4H0z M0,68v4h12.4l0.9-4H0z"></path>
`);
obsidian.addIcon('copy', `
<path fill="currentColor" stroke="currentColor" d="M74,4c-0.1,0-0.2,0-0.3,0H40v11.5l4,4V8h28v20h20v48H64v4h32V26.3c0-0.2,0-0.4,0-0.6v-0.5l-0.4-0.4 c-0.1-0.1-0.2-0.3-0.4-0.4c0,0,0,0,0,0L75.6,4.8c-0.1-0.1-0.2-0.3-0.4-0.4L74.8,4h-0.5C74.2,4,74.1,4,74,4L74,4z M76,10.8L89.2,24 H76V10.8z M38,20c-0.1,0-0.2,0-0.3,0H4v76h56V42.3c0-0.2,0-0.4,0-0.6v-0.5l-0.4-0.4c-0.1-0.1-0.2-0.3-0.4-0.4L39.6,20.7 c-0.1-0.1-0.2-0.3-0.4-0.4L38.8,20h-0.5C38.2,20,38.1,20,38,20z M8,24h28v20h20v48H8L8,24z M40,26.8L53.2,40H40V26.8z M60.5,36 l4,4H84v-4L60.5,36z M64,48v4h12v-4H64z M16,52v4h32v-4H16z M64,60v4h20v-4H64z M16,64v4h24v-4H16z M16,76v4h32v-4H16z"></path>
`);
obsidian.addIcon('console', `
<g
id="g834"
transform="translate(0.95339012,-1.9073486e-6)">
<rect
  y="16.73081"
  x="6.3938694"
  height="66.538383"
  width="85.305481"
  id="rect819"
  style="fill:none;fill-opacity:1;stroke:currentColor;stroke-width:5;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />
<text
  id="text823"
  y="39.476452"
  x="26.666315"
  style="font-style:normal;font-weight:normal;font-size:235.29411316px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:currentColor;fill-opacity:1;stroke:none;stroke-width:5"
  xml:space="preserve"><tspan
    style="stroke-width:5"
    y="247.6566"
    x="26.666315"
    id="tspan821"
    sodipodi:role="line"></tspan></text>
<path
  inkscape:connector-curvature="0"
  id="path825"
  d="M 19.491525,28.601695 41.525423,49.788135 18.855932,70.762711"
  style="fill:none;stroke:currentColor;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
<path
  inkscape:connector-curvature="0"
  id="path827"
  d="M 49.364407,69.703388 H 74.788135"
  style="fill:none;stroke:currentColor;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
</g>
`);

const CONTENT_PLACEHOLDER = '%CONTENT%';
const FILE_PLACEHOLDER = '%FILE%';
const DEFAULT_SETTINGS = {
    enableStatusBarItem: true,
    enableOutputAutoClear: false,
    enableAutoScroll: true,
    outputMaxLines: 50,
    workingDirectory: os__namespace.tmpdir(),
    scriptTimeout: 300,
    wordsBlacklist: ['sudo'],
    env: {},
    languages: {
        'sh': {
            executable: `sh ${FILE_PLACEHOLDER}`,
            template: `#!/bin/sh${os__namespace.EOL}${os__namespace.EOL}set -e${os__namespace.EOL}${os__namespace.EOL}${CONTENT_PLACEHOLDER}`,
        },
        'bash': {
            executable: `bash ${FILE_PLACEHOLDER}`,
            template: `#!/bin/bash${os__namespace.EOL}${os__namespace.EOL}set -e${os__namespace.EOL}${os__namespace.EOL}${CONTENT_PLACEHOLDER}`,
        },
        'js|javascript': {
            executable: `node ${FILE_PLACEHOLDER}`,
            template: `(async () => {${os__namespace.EOL}  ${CONTENT_PLACEHOLDER}${os__namespace.EOL}})()`,
        },
        'python': {
            executable: `python ${FILE_PLACEHOLDER}`,
            template: CONTENT_PLACEHOLDER,
        },
        'go': {
            executable: `go run ${FILE_PLACEHOLDER}`,
            template: `package main${os__namespace.EOL}${os__namespace.EOL}import ("fmt")${os__namespace.EOL}${os__namespace.EOL}func main() {${os__namespace.EOL}  ${CONTENT_PLACEHOLDER}${os__namespace.EOL}}`,
        },
        'php': {
            executable: `php ${FILE_PLACEHOLDER}`,
            template: `<?php${os__namespace.EOL}${os__namespace.EOL}${CONTENT_PLACEHOLDER}`
        }
    }
};
function getLanguageSettings(settings, type) {
    for (const key in settings.languages) {
        const match = type.match('^' + key + '$');
        if (match !== null) {
            return settings.languages[key];
        }
    }
    return null;
}
function getAllSupportedLanguages(settings) {
    return Object.keys(settings.languages).join('|');
}

const OUTPUT_MIN_LINES = 5;
const OUTPUT_MAX_LINES = 5000;
class SettingTab extends obsidian.PluginSettingTab {
    constructor(app, plugin) {
        super(app, plugin);
        this.plugin = plugin;
    }
    display() {
        const { containerEl } = this;
        containerEl.empty();
        new obsidian.Setting(containerEl)
            .setName('Enable status bar item')
            .setDesc('Add a status bar item with running script count')
            .addToggle(toggle => toggle
            .setValue(this.plugin.settings.enableStatusBarItem)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.enableStatusBarItem = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Enable automatic output clean')
            .setDesc('Clear the output panel content before new executions')
            .addToggle(toggle => toggle
            .setValue(this.plugin.settings.enableOutputAutoClear)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.enableOutputAutoClear = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Max output lines')
            .setDesc('The max number of lines to show in output panel')
            .addText(text => text
            .setValue(this.plugin.settings.outputMaxLines.toString())
            .onChange((text) => __awaiter(this, void 0, void 0, function* () {
            let value = parseInt(text);
            if (value < OUTPUT_MIN_LINES) {
                value = OUTPUT_MIN_LINES;
            }
            else if (value > OUTPUT_MAX_LINES) {
                value = OUTPUT_MAX_LINES;
            }
            this.plugin.settings.outputMaxLines = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Working directory')
            .setDesc('The path where code scripts are executed')
            .addText(text => text
            .setValue(this.plugin.settings.workingDirectory)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.workingDirectory = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Script timeout')
            .setDesc('Execution timeout in seconds, 0 to disable')
            .addDropdown(dropdown => dropdown
            .addOptions({
            '0': 'disabled',
            '60': '1 minute',
            '300': '5 minutes',
            '600': '10 minutes',
            '1800': '30 minutes',
        })
            .setValue(this.plugin.settings.scriptTimeout.toString())
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.scriptTimeout = parseInt(value);
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Words blacklist')
            .setDesc('Block code execution that match these words (one per line)')
            .addTextArea(textArea => textArea
            .setValue(this.plugin.settings.wordsBlacklist.join(os__namespace.EOL))
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.wordsBlacklist = value.split(os__namespace.EOL);
            yield this.plugin.saveSettings();
        })));
        containerEl.createEl('h3', { text: 'Environment variables', cls: ['commander-settings-title'] });
        const envEl = window.createDiv();
        for (const key in this.plugin.settings.env) {
            this.addEnvVariableSettings(envEl, key);
        }
        containerEl.appendChild(envEl);
        let envTextComponent;
        new obsidian.Setting(containerEl)
            .setName('Add env variable')
            .setDesc('The key must correspond to code block type')
            .addText(text => {
            envTextComponent = text;
            text.setPlaceholder('EXAMPLE_ENV_VAR');
        })
            .addExtraButton(btn => btn
            .setIcon('add')
            .setTooltip('Add a env variable')
            .onClick(() => __awaiter(this, void 0, void 0, function* () {
            const key = envTextComponent.getValue();
            if (key.trim().length === 0) {
                return;
            }
            this.plugin.settings.env[key] = '';
            yield this.plugin.saveSettings();
            this.addEnvVariableSettings(envEl, envTextComponent.getValue());
            envTextComponent.setValue('');
        })));
        containerEl.createEl('h3', { text: 'Supported languages', cls: ['commander-settings-title'] });
        const languagesEl = window.createDiv();
        for (const key in this.plugin.settings.languages) {
            this.addLanguageSettings(languagesEl, key);
        }
        containerEl.appendChild(languagesEl);
        let langTextComponent;
        new obsidian.Setting(containerEl)
            .setName('Add new language support')
            .setDesc('The key must correspond to code block type')
            .addText(text => {
            langTextComponent = text;
            text.setPlaceholder('js|javascript');
        })
            .addExtraButton(btn => btn
            .setIcon('add')
            .setTooltip('Add a new language')
            .onClick(() => __awaiter(this, void 0, void 0, function* () {
            const key = langTextComponent.getValue();
            if (key.trim().length === 0) {
                return;
            }
            this.plugin.settings.languages[key] = {
                executable: key.split('|').shift() + ' ' + FILE_PLACEHOLDER,
                template: CONTENT_PLACEHOLDER
            };
            yield this.plugin.saveSettings();
            this.addLanguageSettings(languagesEl, langTextComponent.getValue());
            langTextComponent.setValue('');
        })));
    }
    addEnvVariableSettings(containerEl, key) {
        const settingsContainer = containerEl.createEl('div', { cls: ['commander-env-settings'] });
        new obsidian.Setting(settingsContainer)
            .setName(key)
            .addText(text => text
            .setValue(this.plugin.settings.env[key])
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.env[key] = value;
            yield this.plugin.saveSettings();
        })))
            .addExtraButton(btn => btn
            .setIcon('trash')
            .setTooltip('Delete env variable')
            .onClick(() => __awaiter(this, void 0, void 0, function* () {
            settingsContainer.remove();
            delete this.plugin.settings.env[key];
            yield this.plugin.saveSettings();
        })));
    }
    addLanguageSettings(containerEl, key) {
        const settingsContainer = containerEl.createEl('div', { cls: ['commander-lang-settings'] });
        const settingsHeader = settingsContainer.createEl('div', { cls: ['commander-lang-settings-header'] });
        settingsHeader.createEl('h3', { text: key.replace(/\|/g, ' ') });
        new obsidian.Setting(settingsHeader)
            .addButton(btn => btn
            .setIcon('trash')
            .setClass('commander-lang-delete-btn')
            .setTooltip('Delete language')
            .onClick(() => __awaiter(this, void 0, void 0, function* () {
            settingsContainer.remove();
            delete this.plugin.settings.languages[key];
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(settingsContainer)
            .setName('Executable')
            .addText(text => text
            .setPlaceholder('exec ' + FILE_PLACEHOLDER)
            .setValue(this.plugin.settings.languages[key].executable)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.languages[key].executable = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(settingsContainer)
            .setName('Template')
            .addTextArea(textArea => textArea
            .setPlaceholder(CONTENT_PLACEHOLDER)
            .setValue(this.plugin.settings.languages[key].template)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.languages[key].template = value;
            yield this.plugin.saveSettings();
        })));
    }
}

const ARG_REGEX_QUOTED = /^"[^"]*"$/;
const ARG_REGEX = /^([^"]|[^"].*?[^"])$/;
class Script {
    constructor(plugin) {
        this.plugin = plugin;
    }
    setType(type) {
        this.type = type;
    }
    addContent(content) {
        if (!this.content) {
            this.content = content;
        }
        else {
            this.content += '\n' + content;
        }
    }
    run() {
        return __awaiter(this, void 0, void 0, function* () {
            return new Promise((resolve, reject) => {
                if (this.plugin.settings.enableOutputAutoClear && this.plugin.outputView) {
                    this.plugin.outputView.clear();
                }
                const langSettings = getLanguageSettings(this.plugin.settings, this.type);
                if (!langSettings) {
                    return reject('Language not supported');
                }
                // Check blacklisted words
                const block = this.plugin.settings.wordsBlacklist.some(words => this.content.includes(words));
                if (block) {
                    const msg = 'Script execution blocked';
                    new obsidian.Notice(msg);
                    return reject(msg);
                }
                // Write code script file on disk
                const fileName = `${(new Date()).getTime()}.${this.type}`;
                const filePath = path__namespace.join(this.plugin.settings.workingDirectory, fileName);
                let fileContent = this.content;
                if (langSettings.template) {
                    fileContent = langSettings.template.replace(CONTENT_PLACEHOLDER, fileContent);
                }
                fs__namespace.writeFileSync(filePath, fileContent);
                // Prepare command and arguments
                const cmd = langSettings.executable.replace(FILE_PLACEHOLDER, fileName);
                const args = [];
                let argPart = '';
                cmd.split(' ').forEach((arg) => {
                    if ((ARG_REGEX_QUOTED.test(arg) || ARG_REGEX.test(arg)) && !argPart) {
                        args.push(arg);
                    }
                    else {
                        argPart = argPart ? argPart + ' ' + arg : arg;
                        if (argPart.endsWith('')) {
                            args.push(argPart);
                            argPart = '';
                        }
                    }
                });
                const executable = args.shift();
                if (!executable) {
                    return reject('No executable found in file placeholder');
                }
                // Execute command
                this.command = child_process.spawn(executable, args, {
                    cwd: this.plugin.settings.workingDirectory,
                    timeout: this.plugin.settings.scriptTimeout * 1000,
                    env: Object.assign(Object.assign({}, process.env), this.plugin.settings.env),
                });
                // Attach to process events
                this.command.stdout.on('data', (data) => {
                    this.print(data.toString());
                });
                this.command.stderr.on('data', (data) => {
                    this.print(data.toString());
                });
                this.command.on('error', (error) => {
                    this.print(error.message);
                    // Check if command didn't start
                    // (for example due an ENOENT error)
                    if (!this.command.pid) {
                        reject(error.message);
                    }
                });
                this.command.on('exit', (code) => {
                    fs__namespace.unlinkSync(filePath);
                    if (code !== 0) {
                        if (code === null) {
                            this.print('stopped');
                        }
                        else {
                            this.print(`exit code ${code}`);
                        }
                        reject(code);
                    }
                    else {
                        resolve();
                    }
                });
            });
        });
    }
    print(msg) {
        if (this.plugin.outputView) {
            this.plugin.outputView.print(msg);
        }
    }
}

// https://github.com/chalk/ansi-regex/blob/main/index.js#L3
const ANSI_CODE_REGEX = [
    '[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)',
    '(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))'
].join('|');
const VIEW_TYPE_OUTPUT = 'commander-output';
class OutputView extends obsidian.ItemView {
    constructor(leaf, plugin) {
        super(leaf);
        this.plugin = plugin;
    }
    getViewType() {
        return VIEW_TYPE_OUTPUT;
    }
    getDisplayText() {
        return 'Commander';
    }
    getIcon() {
        return 'console';
    }
    onOpen() {
        return __awaiter(this, void 0, void 0, function* () {
            const { containerEl } = this;
            containerEl.empty();
            const buttonContainer = document.createElement('div');
            buttonContainer.addClass('nav-header');
            buttonContainer.addClass('commander-header');
            containerEl.appendChild(buttonContainer);
            new obsidian.ButtonComponent(buttonContainer)
                .setIcon('copy')
                .setTooltip('Copy output')
                .onClick(() => {
                this.copyContentToClipboard();
            });
            new obsidian.ButtonComponent(buttonContainer)
                .setIcon('cross')
                .setTooltip('Clear output')
                .onClick(() => {
                this.clear();
            });
            new obsidian.ButtonComponent(buttonContainer)
                .setIcon('stop')
                .setTooltip('Stop running scripts')
                .onClick(() => {
                if (this.plugin.runningScripts.length > 0) {
                    this.plugin.stopAllRunningScripts();
                }
            });
            this.outputElem = document.createElement('pre');
            this.outputElem.addClass('commander-output');
            containerEl.appendChild(this.outputElem);
        });
    }
    clear() {
        this.outputElem.innerHTML = '';
    }
    copyContentToClipboard() {
        navigator.clipboard.writeText(this.outputElem.innerHTML.replace(/<br>/g, os__namespace.EOL));
    }
    print(msg) {
        msg = msg.replace(new RegExp(ANSI_CODE_REGEX, 'g'), ''); // remove ANSI control codes
        msg = msg.replace(new RegExp(os__namespace.EOL, 'g'), '<br>'); // replace enw line with br
        if (this.outputElem.innerHTML.length > 0 && this.outputElem.innerHTML.endsWith('<br>') === false) {
            this.outputElem.innerHTML += '<br>';
        }
        this.outputElem.innerHTML += msg;
        this.checkMaxLines();
        this.checkScroll();
    }
    checkMaxLines() {
        let lines = this.outputElem.innerHTML.split('<br>');
        const overLimit = lines.length - this.plugin.settings.outputMaxLines;
        if (overLimit <= 0) {
            return;
        }
        lines = lines.slice(overLimit - 1);
        this.outputElem.innerHTML = lines.join('<br>');
    }
    checkScroll() {
        if (!this.plugin.settings.enableAutoScroll) {
            return;
        }
        this.outputElem.scrollTop = this.outputElem.scrollHeight;
    }
}

class CommanderPlugin extends obsidian.Plugin {
    onload() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.loadSettings();
            this.addSettingTab(new SettingTab(this.app, this));
            if (this.settings.enableStatusBarItem) {
                this.initStatusBarItem();
            }
            this.registerInterval(window.setInterval(() => {
                if (this.statusBarItem) {
                    this.statusBarItem.setText(`${this.runningScripts.length} running scripts`);
                }
            }, 1000));
            this.registerView(VIEW_TYPE_OUTPUT, (leaf) => {
                this.outputView = new OutputView(leaf, this);
                return this.outputView;
            });
            this.addCommand({
                id: 'app:show-commander-output',
                name: 'Show console output',
                callback: () => this.initLeaf(),
                hotkeys: []
            });
            this.addCommand({
                id: 'app:clean-commander-scripts',
                name: 'Clean console output',
                callback: () => {
                    if (this.outputView) {
                        this.outputView.clear();
                    }
                },
                hotkeys: []
            });
            this.addCommand({
                id: 'app:copy-commander-scripts',
                name: 'Copy console output',
                callback: () => {
                    if (this.outputView) {
                        this.outputView.copyContentToClipboard();
                        new obsidian.Notice('Console output copied!');
                    }
                },
                hotkeys: []
            });
            this.addCommand({
                id: 'app:stop-commander-scripts',
                name: 'Stop all commands',
                callback: () => {
                    const scriptCount = this.runningScripts.length;
                    if (scriptCount === 0) {
                        new obsidian.Notice('No running scrips found');
                        return;
                    }
                    this.stopAllRunningScripts();
                    new obsidian.Notice(`${scriptCount} scripts stopped`);
                },
                hotkeys: []
            });
            this.runningScripts = [];
            this.registerMarkdownPostProcessor(this.postProcessor.bind(this));
        });
    }
    initStatusBarItem() {
        if (this.statusBarItem) {
            return;
        }
        this.statusBarItem = this.addStatusBarItem();
    }
    clearStatusBarItem() {
        if (!this.statusBarItem) {
            return;
        }
        this.statusBarItem.remove();
        this.statusBarItem = null;
    }
    initLeaf() {
        const { workspace } = this.app;
        if (workspace.getLeavesOfType(VIEW_TYPE_OUTPUT).length > 0) {
            return;
        }
        const leaf = workspace.getRightLeaf(false);
        if (!leaf) {
            return;
        }
        leaf.setViewState({
            type: VIEW_TYPE_OUTPUT,
            active: true,
        });
    }
    clearLeaf() {
        const { workspace } = this.app;
        workspace
            .getLeavesOfType(VIEW_TYPE_OUTPUT)
            .forEach((leaf) => leaf.detach());
    }
    postProcessor(el) {
        const codeBlocks = Array.from(el.querySelectorAll('code'));
        if (!codeBlocks.length) {
            return;
        }
        const supportedLanguages = getAllSupportedLanguages(this.settings);
        for (const codeBlock of codeBlocks) {
            const supportedLang = Array.from(codeBlock.classList).find(cls => {
                const match = cls.match('^language-(' + supportedLanguages + ')$');
                return match !== null;
            });
            if (!supportedLang) {
                continue;
            }
            const script = new Script(this);
            script.addContent(codeBlock.getText());
            script.setType(supportedLang.replace('language-', ''));
            codeBlock.parentElement.parentElement.addClass('commander-block-relative');
            this.createButton(script, codeBlock.parentElement);
        }
    }
    createButton(script, parent) {
        const runBtn = new obsidian.ButtonComponent(parent)
            .setButtonText('Execute')
            .setClass('execute-code-button')
            .onClick(() => __awaiter(this, void 0, void 0, function* () {
            runBtn.setDisabled(true);
            this.runningScripts.push(script);
            try {
                yield script.run();
            }
            finally {
                this.runningScripts.splice(this.runningScripts.indexOf(script), 1);
                runBtn.setDisabled(false);
            }
        }));
    }
    stopAllRunningScripts() {
        for (const script of this.runningScripts) {
            script.command.kill();
        }
        this.runningScripts = [];
    }
    loadSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
        });
    }
    saveSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            if (this.settings.enableStatusBarItem) {
                this.initStatusBarItem();
            }
            else {
                this.clearStatusBarItem();
            }
            yield this.saveData(this.settings);
        });
    }
    onunload() {
        this.clearLeaf();
        this.stopAllRunningScripts();
    }
}

module.exports = CommanderPlugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsInNyYy9saWIvaWNvbnMudHMiLCJzcmMvc2V0dGluZ3MudHMiLCJzcmMvc2V0dGluZ3MtdGFiLnRzIiwic3JjL3NjcmlwdC50cyIsInNyYy9vdXRwdXQtdmlldy50cyIsInNyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XHJcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59KTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgbykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tLCBwYWNrKSB7XHJcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcclxuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcclxuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XHJcbn0pIDogZnVuY3Rpb24obywgdikge1xyXG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XHJcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XHJcbn1cclxuIiwiaW1wb3J0IHsgYWRkSWNvbiB9IGZyb20gJ29ic2lkaWFuJ1xuXG5hZGRJY29uKCdzdG9wJywgYFxuPHJlY3RcbiAgc3R5bGU9XCJmaWxsOm5vbmU7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOmN1cnJlbnRDb2xvcjtzdHJva2Utd2lkdGg6NS4wMTI1OTQ3O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjFcIlxuICBpZD1cInJlY3Q4MjVcIlxuICB3aWR0aD1cIjg5LjY3NDkwNFwiXG4gIGhlaWdodD1cIjg4LjczNzQwNFwiXG4gIHg9XCI1LjE2MjU0ODFcIlxuICB5PVwiNS42MzEyOTgxXCIgLz5cbmApXG5cbmFkZEljb24oJ2FkZCcsIGBcbjxwYXRoXG4gIHN0eWxlPVwiZmlsbDpub25lO3N0cm9rZTpjdXJyZW50Q29sb3I7c3Ryb2tlLXdpZHRoOjEwO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjFcIlxuICBkPVwiTSA4Ni4yMjg4MTQsNTEuMjcxMTg2IEggOS45NTc2MjY1XCJcbiAgaWQ9XCJwYXRoODE3XCJcbiAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT1cIjBcIiBcbi8+XG48cGF0aFxuICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPVwiMFwiXG4gIGlkPVwicGF0aDgzNFwiXG4gIGQ9XCJNIDQ4LjA5MzIyLDg5LjQwNjc4IFYgMTMuMTM1NTkyXCJcbiAgc3R5bGU9XCJmaWxsOm5vbmU7c3Ryb2tlOmN1cnJlbnRDb2xvcjtzdHJva2Utd2lkdGg6MTA7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MVwiIFxuLz5cbmApXG5cbmFkZEljb24oJ3J1bicsIGBcbjxwYXRoIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTM3LDE2Yy00LjQsMC04LjMsMy4zLTkuMiw3LjZsLTExLjYsNTJjLTAuNSwyLjIsMCw0LjMsMS4yLDUuOWMxLjIsMS42LDMuMiwyLjYsNS40LDIuNkg3OWM0LjQsMCw4LjMtMy4zLDkuMi03LjYgbDExLjYtNTJjMC41LTIuMiwwLTQuMy0xLjItNS45Qzk3LjQsMTcsOTUuNCwxNiw5My4yLDE2TDM3LDE2eiBNMzcsMjBoNTYuMmMxLjEsMCwxLjgsMC40LDIuMiwxYzAuNSwwLjYsMC43LDEuNCwwLjQsMi42bC0xLDQuNCBIMzAuOGwwLjgtMy42QzMyLjEsMjIuMiwzNC44LDIwLDM3LDIweiBNMjkuOSwzMkg5NGwtOS42LDQzLjZDODMuOSw3Ny44LDgxLjIsODAsNzksODBIMjIuOGMtMS4xLDAtMS44LTAuNC0yLjItMSBjLTAuNS0wLjYtMC43LTEuNC0wLjQtMi42TDI5LjksMzJ6IE0wLDM2djRoMTkuNmwwLjktNEwwLDM2eiBNMzYuNywzOGMtMC44LDAuMS0xLjQsMC43LTEuNiwxLjVsLTMuNSwxNGMtMC4yLDAuNiwwLDEuMiwwLjQsMS43IGMwLjQsMC41LDEsMC44LDEuNiwwLjhIODFjMC45LDAsMS43LTAuNiwxLjktMS41bDMuNS0xNGMwLjItMC42LDAtMS4zLTAuNC0xLjhjLTAuNC0wLjUtMS0wLjgtMS42LTAuOEgzNy4xYy0wLjEsMC0wLjEsMC0wLjIsMCBDMzYuOSwzOCwzNi44LDM4LDM2LjcsMzhMMzYuNywzOHogTTM4LjcsNDJoNDMuMmwtMi40LDEwSDM2LjJMMzguNyw0MnogTTAsNTJ2NGgxNmwwLjktNEgweiBNMCw2OHY0aDEyLjRsMC45LTRIMHpcIj48L3BhdGg+XG5gKVxuXG5hZGRJY29uKCdjb3B5JywgYFxuPHBhdGggZmlsbD1cImN1cnJlbnRDb2xvclwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNzQsNGMtMC4xLDAtMC4yLDAtMC4zLDBINDB2MTEuNWw0LDRWOGgyOHYyMGgyMHY0OEg2NHY0aDMyVjI2LjNjMC0wLjIsMC0wLjQsMC0wLjZ2LTAuNWwtMC40LTAuNCBjLTAuMS0wLjEtMC4yLTAuMy0wLjQtMC40YzAsMCwwLDAsMCwwTDc1LjYsNC44Yy0wLjEtMC4xLTAuMi0wLjMtMC40LTAuNEw3NC44LDRoLTAuNUM3NC4yLDQsNzQuMSw0LDc0LDRMNzQsNHogTTc2LDEwLjhMODkuMiwyNCBINzZWMTAuOHogTTM4LDIwYy0wLjEsMC0wLjIsMC0wLjMsMEg0djc2aDU2VjQyLjNjMC0wLjIsMC0wLjQsMC0wLjZ2LTAuNWwtMC40LTAuNGMtMC4xLTAuMS0wLjItMC4zLTAuNC0wLjRMMzkuNiwyMC43IGMtMC4xLTAuMS0wLjItMC4zLTAuNC0wLjRMMzguOCwyMGgtMC41QzM4LjIsMjAsMzguMSwyMCwzOCwyMHogTTgsMjRoMjh2MjBoMjB2NDhIOEw4LDI0eiBNNDAsMjYuOEw1My4yLDQwSDQwVjI2Ljh6IE02MC41LDM2IGw0LDRIODR2LTRMNjAuNSwzNnogTTY0LDQ4djRoMTJ2LTRINjR6IE0xNiw1MnY0aDMydi00SDE2eiBNNjQsNjB2NGgyMHYtNEg2NHogTTE2LDY0djRoMjR2LTRIMTZ6IE0xNiw3NnY0aDMydi00SDE2elwiPjwvcGF0aD5cbmApXG5cbmFkZEljb24oJ2NvbnNvbGUnLCBgXG48Z1xuaWQ9XCJnODM0XCJcbnRyYW5zZm9ybT1cInRyYW5zbGF0ZSgwLjk1MzM5MDEyLC0xLjkwNzM0ODZlLTYpXCI+XG48cmVjdFxuICB5PVwiMTYuNzMwODFcIlxuICB4PVwiNi4zOTM4Njk0XCJcbiAgaGVpZ2h0PVwiNjYuNTM4MzgzXCJcbiAgd2lkdGg9XCI4NS4zMDU0ODFcIlxuICBpZD1cInJlY3Q4MTlcIlxuICBzdHlsZT1cImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6Y3VycmVudENvbG9yO3N0cm9rZS13aWR0aDo1O3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjFcIiAvPlxuPHRleHRcbiAgaWQ9XCJ0ZXh0ODIzXCJcbiAgeT1cIjM5LjQ3NjQ1MlwiXG4gIHg9XCIyNi42NjYzMTVcIlxuICBzdHlsZT1cImZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXNpemU6MjM1LjI5NDExMzE2cHg7bGluZS1oZWlnaHQ6MS4yNTtmb250LWZhbWlseTpzYW5zLXNlcmlmO2xldHRlci1zcGFjaW5nOjBweDt3b3JkLXNwYWNpbmc6MHB4O2ZpbGw6Y3VycmVudENvbG9yO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDo1XCJcbiAgeG1sOnNwYWNlPVwicHJlc2VydmVcIj48dHNwYW5cbiAgICBzdHlsZT1cInN0cm9rZS13aWR0aDo1XCJcbiAgICB5PVwiMjQ3LjY1NjZcIlxuICAgIHg9XCIyNi42NjYzMTVcIlxuICAgIGlkPVwidHNwYW44MjFcIlxuICAgIHNvZGlwb2RpOnJvbGU9XCJsaW5lXCI+PC90c3Bhbj48L3RleHQ+XG48cGF0aFxuICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPVwiMFwiXG4gIGlkPVwicGF0aDgyNVwiXG4gIGQ9XCJNIDE5LjQ5MTUyNSwyOC42MDE2OTUgNDEuNTI1NDIzLDQ5Ljc4ODEzNSAxOC44NTU5MzIsNzAuNzYyNzExXCJcbiAgc3R5bGU9XCJmaWxsOm5vbmU7c3Ryb2tlOmN1cnJlbnRDb2xvcjtzdHJva2Utd2lkdGg6NTtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxXCIgLz5cbjxwYXRoXG4gIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9XCIwXCJcbiAgaWQ9XCJwYXRoODI3XCJcbiAgZD1cIk0gNDkuMzY0NDA3LDY5LjcwMzM4OCBIIDc0Ljc4ODEzNVwiXG4gIHN0eWxlPVwiZmlsbDpub25lO3N0cm9rZTpjdXJyZW50Q29sb3I7c3Ryb2tlLXdpZHRoOjU7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MVwiIC8+XG48L2c+XG5gKVxuIiwiaW1wb3J0ICogYXMgb3MgZnJvbSAnb3MnXG5cbmV4cG9ydCBpbnRlcmZhY2UgUGx1Z2luTGFuZ3VhZ2VTZXR0aW5ncyB7XG5cdGV4ZWN1dGFibGU6IHN0cmluZztcblx0dGVtcGxhdGU6IHN0cmluZztcblx0cHJlQXJncz86IHN0cmluZ1tdO1xuXHRwb3N0QXJncz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBsdWdpblNldHRpbmdzIHtcblx0ZW5hYmxlU3RhdHVzQmFySXRlbTogYm9vbGVhbjtcblx0ZW5hYmxlT3V0cHV0QXV0b0NsZWFyOiBib29sZWFuO1xuXHRlbmFibGVBdXRvU2Nyb2xsOiBib29sZWFuO1xuXHRvdXRwdXRNYXhMaW5lczogbnVtYmVyO1xuXHR3b3JraW5nRGlyZWN0b3J5OiBzdHJpbmc7XG5cdHNjcmlwdFRpbWVvdXQ6IG51bWJlcjtcblx0d29yZHNCbGFja2xpc3Q6IHN0cmluZ1tdO1xuXHRlbnY6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG5cdGxhbmd1YWdlczogeyBbbGFuZzogc3RyaW5nXTogUGx1Z2luTGFuZ3VhZ2VTZXR0aW5ncyB9XG59XG5cbmV4cG9ydCBjb25zdCBDT05URU5UX1BMQUNFSE9MREVSID0gJyVDT05URU5UJSdcbmV4cG9ydCBjb25zdCBGSUxFX1BMQUNFSE9MREVSID0gJyVGSUxFJSdcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFBsdWdpblNldHRpbmdzID0ge1xuXHRlbmFibGVTdGF0dXNCYXJJdGVtOiB0cnVlLFxuXHRlbmFibGVPdXRwdXRBdXRvQ2xlYXI6IGZhbHNlLFxuXHRlbmFibGVBdXRvU2Nyb2xsOiB0cnVlLFxuXHRvdXRwdXRNYXhMaW5lczogNTAsXG5cdHdvcmtpbmdEaXJlY3Rvcnk6IG9zLnRtcGRpcigpLFxuXHRzY3JpcHRUaW1lb3V0OiAzMDAsXG5cdHdvcmRzQmxhY2tsaXN0OiBbJ3N1ZG8nXSxcblx0ZW52OiB7fSxcblx0bGFuZ3VhZ2VzOiB7XG5cdFx0J3NoJzoge1xuXHRcdFx0ZXhlY3V0YWJsZTogYHNoICR7RklMRV9QTEFDRUhPTERFUn1gLFxuXHRcdFx0dGVtcGxhdGU6IGAjIS9iaW4vc2gke29zLkVPTH0ke29zLkVPTH1zZXQgLWUke29zLkVPTH0ke29zLkVPTH0ke0NPTlRFTlRfUExBQ0VIT0xERVJ9YCxcblx0XHR9LFxuXHRcdCdiYXNoJzoge1xuXHRcdFx0ZXhlY3V0YWJsZTogYGJhc2ggJHtGSUxFX1BMQUNFSE9MREVSfWAsXG5cdFx0XHR0ZW1wbGF0ZTogYCMhL2Jpbi9iYXNoJHtvcy5FT0x9JHtvcy5FT0x9c2V0IC1lJHtvcy5FT0x9JHtvcy5FT0x9JHtDT05URU5UX1BMQUNFSE9MREVSfWAsXG5cdFx0fSxcblx0XHQnanN8amF2YXNjcmlwdCc6IHtcblx0XHRcdGV4ZWN1dGFibGU6IGBub2RlICR7RklMRV9QTEFDRUhPTERFUn1gLFxuXHRcdFx0dGVtcGxhdGU6IGAoYXN5bmMgKCkgPT4geyR7b3MuRU9MfSAgJHtDT05URU5UX1BMQUNFSE9MREVSfSR7b3MuRU9MfX0pKClgLFxuXHRcdH0sXG5cdFx0J3B5dGhvbic6IHtcblx0XHRcdGV4ZWN1dGFibGU6IGBweXRob24gJHtGSUxFX1BMQUNFSE9MREVSfWAsXG5cdFx0XHR0ZW1wbGF0ZTogQ09OVEVOVF9QTEFDRUhPTERFUixcblx0XHR9LFxuXHRcdCdnbyc6IHtcblx0XHRcdGV4ZWN1dGFibGU6IGBnbyBydW4gJHtGSUxFX1BMQUNFSE9MREVSfWAsXG5cdFx0XHR0ZW1wbGF0ZTogYHBhY2thZ2UgbWFpbiR7b3MuRU9MfSR7b3MuRU9MfWltcG9ydCAoXCJmbXRcIikke29zLkVPTH0ke29zLkVPTH1mdW5jIG1haW4oKSB7JHtvcy5FT0x9ICAke0NPTlRFTlRfUExBQ0VIT0xERVJ9JHtvcy5FT0x9fWAsXG5cdFx0fSxcblx0XHQncGhwJzoge1xuXHRcdFx0ZXhlY3V0YWJsZTogYHBocCAke0ZJTEVfUExBQ0VIT0xERVJ9YCxcblx0XHRcdHRlbXBsYXRlOiBgPD9waHAke29zLkVPTH0ke29zLkVPTH0ke0NPTlRFTlRfUExBQ0VIT0xERVJ9YFxuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFuZ3VhZ2VTZXR0aW5ncyhzZXR0aW5nczogUGx1Z2luU2V0dGluZ3MsIHR5cGU6IHN0cmluZyk6IFBsdWdpbkxhbmd1YWdlU2V0dGluZ3MgfCBudWxsIHtcblx0Zm9yIChjb25zdCBrZXkgaW4gc2V0dGluZ3MubGFuZ3VhZ2VzKSB7XG5cdFx0Y29uc3QgbWF0Y2ggPSB0eXBlLm1hdGNoKCdeJyArIGtleSArICckJylcblx0XHRpZiAobWF0Y2ggIT09IG51bGwpIHtcblx0XHRcdHJldHVybiBzZXR0aW5ncy5sYW5ndWFnZXNba2V5XVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gbnVsbFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsU3VwcG9ydGVkTGFuZ3VhZ2VzKHNldHRpbmdzOiBQbHVnaW5TZXR0aW5ncyk6IHN0cmluZyB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhzZXR0aW5ncy5sYW5ndWFnZXMpLmpvaW4oJ3wnKVxufVxuIiwiaW1wb3J0IENvbW1hbmRlclBsdWdpbiBmcm9tICcuL21haW4nXG5pbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIFRleHRDb21wb25lbnQgfSBmcm9tICdvYnNpZGlhbidcbmltcG9ydCAqIGFzIG9zIGZyb20gJ29zJ1xuaW1wb3J0IHsgQ09OVEVOVF9QTEFDRUhPTERFUiwgRklMRV9QTEFDRUhPTERFUiB9IGZyb20gJy4vc2V0dGluZ3MnXG5cbmNvbnN0IE9VVFBVVF9NSU5fTElORVMgPSA1XG5jb25zdCBPVVRQVVRfTUFYX0xJTkVTID0gNTAwMFxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogQ29tbWFuZGVyUGx1Z2luO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IENvbW1hbmRlclBsdWdpbikge1xuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKVxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luXG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXNcblxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KClcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0VuYWJsZSBzdGF0dXMgYmFyIGl0ZW0nKVxuXHRcdFx0LnNldERlc2MoJ0FkZCBhIHN0YXR1cyBiYXIgaXRlbSB3aXRoIHJ1bm5pbmcgc2NyaXB0IGNvdW50Jylcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlU3RhdHVzQmFySXRlbSlcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVTdGF0dXNCYXJJdGVtID0gdmFsdWVcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKVxuXHRcdFx0XHR9KVxuXHRcdFx0KVxuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnRW5hYmxlIGF1dG9tYXRpYyBvdXRwdXQgY2xlYW4nKVxuXHRcdFx0LnNldERlc2MoJ0NsZWFyIHRoZSBvdXRwdXQgcGFuZWwgY29udGVudCBiZWZvcmUgbmV3IGV4ZWN1dGlvbnMnKVxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVPdXRwdXRBdXRvQ2xlYXIpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlT3V0cHV0QXV0b0NsZWFyID0gdmFsdWVcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKVxuXHRcdFx0XHR9KVxuXHRcdFx0KVxuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnTWF4IG91dHB1dCBsaW5lcycpXG5cdFx0XHQuc2V0RGVzYygnVGhlIG1heCBudW1iZXIgb2YgbGluZXMgdG8gc2hvdyBpbiBvdXRwdXQgcGFuZWwnKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vdXRwdXRNYXhMaW5lcy50b1N0cmluZygpKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgdGV4dCA9PiB7XG5cdFx0XHRcdFx0bGV0IHZhbHVlID0gcGFyc2VJbnQodGV4dClcblx0XHRcdFx0XHRpZiAodmFsdWUgPCBPVVRQVVRfTUlOX0xJTkVTKSB7XG5cdFx0XHRcdFx0XHR2YWx1ZSA9IE9VVFBVVF9NSU5fTElORVNcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHZhbHVlID4gT1VUUFVUX01BWF9MSU5FUykge1xuXHRcdFx0XHRcdFx0dmFsdWUgPSBPVVRQVVRfTUFYX0xJTkVTXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm91dHB1dE1heExpbmVzID0gdmFsdWVcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKVxuXHRcdFx0XHR9KVxuXHRcdFx0KVxuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnV29ya2luZyBkaXJlY3RvcnknKVxuXHRcdFx0LnNldERlc2MoJ1RoZSBwYXRoIHdoZXJlIGNvZGUgc2NyaXB0cyBhcmUgZXhlY3V0ZWQnKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3JraW5nRGlyZWN0b3J5KVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmtpbmdEaXJlY3RvcnkgPSB2YWx1ZVxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpXG5cdFx0XHRcdH0pXG5cdFx0XHQpXG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdTY3JpcHQgdGltZW91dCcpXG5cdFx0XHQuc2V0RGVzYygnRXhlY3V0aW9uIHRpbWVvdXQgaW4gc2Vjb25kcywgMCB0byBkaXNhYmxlJylcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxuXHRcdFx0XHQuYWRkT3B0aW9ucyh7XG5cdFx0XHRcdFx0JzAnOiAnZGlzYWJsZWQnLFxuXHRcdFx0XHRcdCc2MCc6ICcxIG1pbnV0ZScsXG5cdFx0XHRcdFx0JzMwMCc6ICc1IG1pbnV0ZXMnLFxuXHRcdFx0XHRcdCc2MDAnOiAnMTAgbWludXRlcycsXG5cdFx0XHRcdFx0JzE4MDAnOiAnMzAgbWludXRlcycsXG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zY3JpcHRUaW1lb3V0LnRvU3RyaW5nKCkpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zY3JpcHRUaW1lb3V0ID0gcGFyc2VJbnQodmFsdWUpXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKClcblx0XHRcdFx0fSkpXG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdXb3JkcyBibGFja2xpc3QnKVxuXHRcdFx0LnNldERlc2MoJ0Jsb2NrIGNvZGUgZXhlY3V0aW9uIHRoYXQgbWF0Y2ggdGhlc2Ugd29yZHMgKG9uZSBwZXIgbGluZSknKVxuXHRcdFx0LmFkZFRleHRBcmVhKHRleHRBcmVhID0+IHRleHRBcmVhXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc0JsYWNrbGlzdC5qb2luKG9zLkVPTCkpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZHNCbGFja2xpc3QgPSB2YWx1ZS5zcGxpdChvcy5FT0wpXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKClcblx0XHRcdFx0fSlcblx0XHRcdClcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0Vudmlyb25tZW50IHZhcmlhYmxlcycsIGNsczogWydjb21tYW5kZXItc2V0dGluZ3MtdGl0bGUnXSB9KVxuXG5cdFx0Y29uc3QgZW52RWwgPSB3aW5kb3cuY3JlYXRlRGl2KClcblx0XHRmb3IgKGNvbnN0IGtleSBpbiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbnYpIHtcblx0XHRcdHRoaXMuYWRkRW52VmFyaWFibGVTZXR0aW5ncyhlbnZFbCwga2V5KVxuXHRcdH1cblx0XHRjb250YWluZXJFbC5hcHBlbmRDaGlsZChlbnZFbClcblxuXHRcdGxldCBlbnZUZXh0Q29tcG9uZW50OiBUZXh0Q29tcG9uZW50XG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnQWRkIGVudiB2YXJpYWJsZScpXG5cdFx0XHQuc2V0RGVzYygnVGhlIGtleSBtdXN0IGNvcnJlc3BvbmQgdG8gY29kZSBibG9jayB0eXBlJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xuXHRcdFx0XHRlbnZUZXh0Q29tcG9uZW50ID0gdGV4dFxuXHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKCdFWEFNUExFX0VOVl9WQVInKVxuXHRcdFx0fSlcblx0XHRcdC5hZGRFeHRyYUJ1dHRvbihidG4gPT4gYnRuXG5cdFx0XHRcdC5zZXRJY29uKCdhZGQnKVxuXHRcdFx0XHQuc2V0VG9vbHRpcCgnQWRkIGEgZW52IHZhcmlhYmxlJylcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGtleSA9IGVudlRleHRDb21wb25lbnQuZ2V0VmFsdWUoKVxuXHRcdFx0XHRcdGlmIChrZXkudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZW52W2tleV0gPSAnJ1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpXG5cblx0XHRcdFx0XHR0aGlzLmFkZEVudlZhcmlhYmxlU2V0dGluZ3MoZW52RWwsIGVudlRleHRDb21wb25lbnQuZ2V0VmFsdWUoKSlcblx0XHRcdFx0XHRlbnZUZXh0Q29tcG9uZW50LnNldFZhbHVlKCcnKVxuXHRcdFx0XHR9KVxuXHRcdFx0KVxuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnU3VwcG9ydGVkIGxhbmd1YWdlcycsIGNsczogWydjb21tYW5kZXItc2V0dGluZ3MtdGl0bGUnXSB9KVxuXG5cdFx0Y29uc3QgbGFuZ3VhZ2VzRWwgPSB3aW5kb3cuY3JlYXRlRGl2KClcblx0XHRmb3IgKGNvbnN0IGtleSBpbiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZXMpIHtcblx0XHRcdHRoaXMuYWRkTGFuZ3VhZ2VTZXR0aW5ncyhsYW5ndWFnZXNFbCwga2V5KVxuXHRcdH1cblx0XHRjb250YWluZXJFbC5hcHBlbmRDaGlsZChsYW5ndWFnZXNFbClcblxuXHRcdGxldCBsYW5nVGV4dENvbXBvbmVudDogVGV4dENvbXBvbmVudFxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0FkZCBuZXcgbGFuZ3VhZ2Ugc3VwcG9ydCcpXG5cdFx0XHQuc2V0RGVzYygnVGhlIGtleSBtdXN0IGNvcnJlc3BvbmQgdG8gY29kZSBibG9jayB0eXBlJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xuXHRcdFx0XHRsYW5nVGV4dENvbXBvbmVudCA9IHRleHRcblx0XHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcignanN8amF2YXNjcmlwdCcpXG5cdFx0XHR9KVxuXHRcdFx0LmFkZEV4dHJhQnV0dG9uKGJ0biA9PiBidG5cblx0XHRcdFx0LnNldEljb24oJ2FkZCcpXG5cdFx0XHRcdC5zZXRUb29sdGlwKCdBZGQgYSBuZXcgbGFuZ3VhZ2UnKVxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3Qga2V5ID0gbGFuZ1RleHRDb21wb25lbnQuZ2V0VmFsdWUoKVxuXHRcdFx0XHRcdGlmIChrZXkudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2VzW2tleV0gPSB7XG5cdFx0XHRcdFx0XHRleGVjdXRhYmxlOiBrZXkuc3BsaXQoJ3wnKS5zaGlmdCgpICsgJyAnICsgRklMRV9QTEFDRUhPTERFUixcblx0XHRcdFx0XHRcdHRlbXBsYXRlOiBDT05URU5UX1BMQUNFSE9MREVSXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpXG5cblx0XHRcdFx0XHR0aGlzLmFkZExhbmd1YWdlU2V0dGluZ3MobGFuZ3VhZ2VzRWwsIGxhbmdUZXh0Q29tcG9uZW50LmdldFZhbHVlKCkpXG5cdFx0XHRcdFx0bGFuZ1RleHRDb21wb25lbnQuc2V0VmFsdWUoJycpXG5cdFx0XHRcdH0pXG5cdFx0XHQpXG5cdH1cblxuXHRhZGRFbnZWYXJpYWJsZVNldHRpbmdzKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwga2V5OiBzdHJpbmcpOiB2b2lkIHtcblx0XHRjb25zdCBzZXR0aW5nc0NvbnRhaW5lciA9IGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogWydjb21tYW5kZXItZW52LXNldHRpbmdzJ10gfSlcblxuXHRcdG5ldyBTZXR0aW5nKHNldHRpbmdzQ29udGFpbmVyKVxuXHRcdFx0LnNldE5hbWUoa2V5KVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbnZba2V5XSlcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbnZba2V5XSA9IHZhbHVlXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKClcblx0XHRcdFx0fSlcblx0XHRcdClcblx0XHRcdC5hZGRFeHRyYUJ1dHRvbihidG4gPT4gYnRuXG5cdFx0XHRcdC5zZXRJY29uKCd0cmFzaCcpXG5cdFx0XHRcdC5zZXRUb29sdGlwKCdEZWxldGUgZW52IHZhcmlhYmxlJylcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdHNldHRpbmdzQ29udGFpbmVyLnJlbW92ZSgpXG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMucGx1Z2luLnNldHRpbmdzLmVudltrZXldXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKClcblx0XHRcdFx0fSlcblx0XHRcdClcblx0fVxuXG5cdGFkZExhbmd1YWdlU2V0dGluZ3MoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50LCBrZXk6IHN0cmluZyk6IHZvaWQge1xuXHRcdGNvbnN0IHNldHRpbmdzQ29udGFpbmVyID0gY29udGFpbmVyRWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiBbJ2NvbW1hbmRlci1sYW5nLXNldHRpbmdzJ10gfSlcblxuXHRcdGNvbnN0IHNldHRpbmdzSGVhZGVyID0gc2V0dGluZ3NDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiBbJ2NvbW1hbmRlci1sYW5nLXNldHRpbmdzLWhlYWRlciddIH0pXG5cdFx0c2V0dGluZ3NIZWFkZXIuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiBrZXkucmVwbGFjZSgvXFx8L2csICcgJykgfSlcblxuXHRcdG5ldyBTZXR0aW5nKHNldHRpbmdzSGVhZGVyKVxuXHRcdFx0LmFkZEJ1dHRvbihidG4gPT4gYnRuXG5cdFx0XHRcdC5zZXRJY29uKCd0cmFzaCcpXG5cdFx0XHRcdC5zZXRDbGFzcygnY29tbWFuZGVyLWxhbmctZGVsZXRlLWJ0bicpXG5cdFx0XHRcdC5zZXRUb29sdGlwKCdEZWxldGUgbGFuZ3VhZ2UnKVxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0c2V0dGluZ3NDb250YWluZXIucmVtb3ZlKClcblx0XHRcdFx0XHRkZWxldGUgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2VzW2tleV1cblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKVxuXHRcdFx0XHR9KVxuXHRcdFx0KVxuXG5cdFx0bmV3IFNldHRpbmcoc2V0dGluZ3NDb250YWluZXIpXG5cdFx0XHQuc2V0TmFtZSgnRXhlY3V0YWJsZScpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdleGVjICcgKyBGSUxFX1BMQUNFSE9MREVSKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2VzW2tleV0uZXhlY3V0YWJsZSlcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZXNba2V5XS5leGVjdXRhYmxlID0gdmFsdWVcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKVxuXHRcdFx0XHR9KVxuXHRcdFx0KVxuXG5cdFx0bmV3IFNldHRpbmcoc2V0dGluZ3NDb250YWluZXIpXG5cdFx0XHQuc2V0TmFtZSgnVGVtcGxhdGUnKVxuXHRcdFx0LmFkZFRleHRBcmVhKHRleHRBcmVhID0+IHRleHRBcmVhXG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcihDT05URU5UX1BMQUNFSE9MREVSKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2VzW2tleV0udGVtcGxhdGUpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2VzW2tleV0udGVtcGxhdGUgPSB2YWx1ZVxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpXG5cdFx0XHRcdH0pXG5cdFx0XHQpXG5cdH1cbn1cbiIsImltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJ1xuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJ1xuaW1wb3J0IENvbW1hbmRlclBsdWdpbiBmcm9tICcuL21haW4nXG5pbXBvcnQgeyBzcGF3biwgQ2hpbGRQcm9jZXNzV2l0aG91dE51bGxTdHJlYW1zIH0gZnJvbSAnY2hpbGRfcHJvY2VzcydcbmltcG9ydCB7IENPTlRFTlRfUExBQ0VIT0xERVIsIEZJTEVfUExBQ0VIT0xERVIsIGdldExhbmd1YWdlU2V0dGluZ3MgfSBmcm9tICcuL3NldHRpbmdzJ1xuaW1wb3J0IHsgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nXG5cbmNvbnN0IEFSR19SRUdFWF9RVU9URUQgPSAvXlwiW15cIl0qXCIkL1xuY29uc3QgQVJHX1JFR0VYID0gL14oW15cIl18W15cIl0uKj9bXlwiXSkkL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY3JpcHQge1xuXHRwbHVnaW46IENvbW1hbmRlclBsdWdpbjtcblx0Y29udGVudDogc3RyaW5nO1xuXHR0eXBlOiBzdHJpbmc7XG5cdGNvbW1hbmQ6IENoaWxkUHJvY2Vzc1dpdGhvdXROdWxsU3RyZWFtcztcblxuXHRjb25zdHJ1Y3RvcihwbHVnaW46IENvbW1hbmRlclBsdWdpbikge1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luXG5cdH1cblxuXHRzZXRUeXBlKHR5cGU6IHN0cmluZyk6IHZvaWQge1xuXHRcdHRoaXMudHlwZSA9IHR5cGVcblx0fVxuXG5cdGFkZENvbnRlbnQoY29udGVudDogc3RyaW5nKTogdm9pZCB7XG5cdFx0aWYgKCF0aGlzLmNvbnRlbnQpIHtcblx0XHRcdHRoaXMuY29udGVudCA9IGNvbnRlbnRcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5jb250ZW50ICs9ICdcXG4nICsgY29udGVudFxuXHRcdH1cblx0fVxuXG5cdGFzeW5jIHJ1bigpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZU91dHB1dEF1dG9DbGVhciAmJiB0aGlzLnBsdWdpbi5vdXRwdXRWaWV3KSB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLm91dHB1dFZpZXcuY2xlYXIoKVxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBsYW5nU2V0dGluZ3MgPSBnZXRMYW5ndWFnZVNldHRpbmdzKHRoaXMucGx1Z2luLnNldHRpbmdzLCB0aGlzLnR5cGUpXG5cdFx0XHRpZiAoIWxhbmdTZXR0aW5ncykge1xuXHRcdFx0XHRyZXR1cm4gcmVqZWN0KCdMYW5ndWFnZSBub3Qgc3VwcG9ydGVkJylcblx0XHRcdH1cblxuICAgICAgLy8gQ2hlY2sgYmxhY2tsaXN0ZWQgd29yZHNcblxuXHRcdFx0Y29uc3QgYmxvY2sgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc0JsYWNrbGlzdC5zb21lKHdvcmRzID0+IHRoaXMuY29udGVudC5pbmNsdWRlcyh3b3JkcykpXG5cdFx0XHRpZiAoYmxvY2spIHtcblx0XHRcdFx0Y29uc3QgbXNnID0gJ1NjcmlwdCBleGVjdXRpb24gYmxvY2tlZCdcblx0XHRcdFx0bmV3IE5vdGljZShtc2cpXG5cdFx0XHRcdHJldHVybiByZWplY3QobXNnKVxuXHRcdFx0fVxuXG4gICAgICAvLyBXcml0ZSBjb2RlIHNjcmlwdCBmaWxlIG9uIGRpc2tcblxuICAgICAgY29uc3QgZmlsZU5hbWUgPSBgJHsobmV3IERhdGUoKSkuZ2V0VGltZSgpfS4ke3RoaXMudHlwZX1gXG5cdFx0XHRjb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbih0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3JraW5nRGlyZWN0b3J5LCBmaWxlTmFtZSlcblxuXHRcdFx0bGV0IGZpbGVDb250ZW50ID0gdGhpcy5jb250ZW50XG5cdFx0XHRpZiAobGFuZ1NldHRpbmdzLnRlbXBsYXRlKSB7XG5cdFx0XHRcdGZpbGVDb250ZW50ID0gbGFuZ1NldHRpbmdzLnRlbXBsYXRlLnJlcGxhY2UoQ09OVEVOVF9QTEFDRUhPTERFUiwgZmlsZUNvbnRlbnQpXG5cdFx0XHR9XG5cblx0XHRcdGZzLndyaXRlRmlsZVN5bmMoZmlsZVBhdGgsIGZpbGVDb250ZW50KVxuXG4gICAgICAvLyBQcmVwYXJlIGNvbW1hbmQgYW5kIGFyZ3VtZW50c1xuXG5cdFx0XHRjb25zdCBjbWQgPSBsYW5nU2V0dGluZ3MuZXhlY3V0YWJsZS5yZXBsYWNlKEZJTEVfUExBQ0VIT0xERVIsIGZpbGVOYW1lKVxuXG5cdFx0XHRjb25zdCBhcmdzOiBzdHJpbmdbXSA9IFtdXG5cdFx0XHRsZXQgYXJnUGFydCA9ICcnXG5cdFx0XHRjbWQuc3BsaXQoJyAnKS5mb3JFYWNoKChhcmc6IHN0cmluZykgPT4ge1xuXHRcdFx0XHRpZiAoKEFSR19SRUdFWF9RVU9URUQudGVzdChhcmcpIHx8IEFSR19SRUdFWC50ZXN0KGFyZykpICYmICFhcmdQYXJ0KSB7XG5cdFx0XHRcdFx0YXJncy5wdXNoKGFyZylcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRhcmdQYXJ0ID0gYXJnUGFydCA/IGFyZ1BhcnQgKyAnICcgKyBhcmcgOiBhcmdcblx0XHRcdFx0XHRpZiAoYXJnUGFydC5lbmRzV2l0aCgnJykpIHtcblx0XHRcdFx0XHRcdGFyZ3MucHVzaChhcmdQYXJ0KVxuXHRcdFx0XHRcdFx0YXJnUGFydCA9ICcnXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXG5cdFx0XHRjb25zdCBleGVjdXRhYmxlID0gYXJncy5zaGlmdCgpXG5cdFx0XHRpZiAoIWV4ZWN1dGFibGUpIHtcblx0XHRcdFx0cmV0dXJuIHJlamVjdCgnTm8gZXhlY3V0YWJsZSBmb3VuZCBpbiBmaWxlIHBsYWNlaG9sZGVyJylcblx0XHRcdH1cblxuICAgICAgLy8gRXhlY3V0ZSBjb21tYW5kXG5cblx0XHRcdHRoaXMuY29tbWFuZCA9IHNwYXduKGV4ZWN1dGFibGUsIGFyZ3MsIHtcblx0XHRcdFx0Y3dkOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3JraW5nRGlyZWN0b3J5LFxuXHRcdFx0XHR0aW1lb3V0OiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zY3JpcHRUaW1lb3V0ICogMTAwMCwgLy8gc2V0dGluZ3MgaXMgaW4gc2Vjb25kcywgcHJvcCBpbiBtaWxsaXNlY29uZHNcblx0XHRcdFx0ZW52OiB7XG4gICAgICAgICAgLi4ucHJvY2Vzcy5lbnYsIC8vIHBhc3MgY3VycmVudCBlbnZpcm9ubWVudCB2YXJpYWJsZXMgKFBBVEgsIEdPUEFUSC4uKVxuICAgICAgICAgIC4uLnRoaXMucGx1Z2luLnNldHRpbmdzLmVudlxuICAgICAgICB9LFxuXHRcdFx0fSlcblxuICAgICAgLy8gQXR0YWNoIHRvIHByb2Nlc3MgZXZlbnRzXG5cblx0XHRcdHRoaXMuY29tbWFuZC5zdGRvdXQub24oJ2RhdGEnLCAoZGF0YSkgPT4ge1xuXHRcdFx0XHR0aGlzLnByaW50KGRhdGEudG9TdHJpbmcoKSlcblx0XHRcdH0pXG5cblx0XHRcdHRoaXMuY29tbWFuZC5zdGRlcnIub24oJ2RhdGEnLCAoZGF0YSkgPT4ge1xuXHRcdFx0XHR0aGlzLnByaW50KGRhdGEudG9TdHJpbmcoKSlcblx0XHRcdH0pXG5cblx0XHRcdHRoaXMuY29tbWFuZC5vbignZXJyb3InLCAoZXJyb3IpID0+IHtcblx0XHRcdFx0dGhpcy5wcmludChlcnJvci5tZXNzYWdlKVxuXG4gICAgICAgIC8vIENoZWNrIGlmIGNvbW1hbmQgZGlkbid0IHN0YXJ0XG4gICAgICAgIC8vIChmb3IgZXhhbXBsZSBkdWUgYW4gRU5PRU5UIGVycm9yKVxuICAgICAgICBpZiAoIXRoaXMuY29tbWFuZC5waWQpIHtcbiAgICAgICAgICByZWplY3QoZXJyb3IubWVzc2FnZSlcbiAgICAgICAgfVxuXHRcdFx0fSlcblxuXHRcdFx0dGhpcy5jb21tYW5kLm9uKCdleGl0JywgKGNvZGUpID0+IHtcblx0XHRcdFx0ZnMudW5saW5rU3luYyhmaWxlUGF0aClcblx0XHRcdFx0aWYgKGNvZGUgIT09IDApIHtcblx0XHRcdFx0XHRpZiAoY29kZSA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0dGhpcy5wcmludCgnc3RvcHBlZCcpXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRoaXMucHJpbnQoYGV4aXQgY29kZSAke2NvZGV9YClcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmVqZWN0KGNvZGUpXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmVzb2x2ZSgpXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0fSlcblx0fVxuXG5cdHByaW50KG1zZzogc3RyaW5nKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMucGx1Z2luLm91dHB1dFZpZXcpIHtcblx0XHRcdHRoaXMucGx1Z2luLm91dHB1dFZpZXcucHJpbnQobXNnKVxuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0ICogYXMgb3MgZnJvbSAnb3MnXG5pbXBvcnQgQ29tbWFuZGVyUGx1Z2luIGZyb20gJy4vbWFpbidcbmltcG9ydCB7IEJ1dHRvbkNvbXBvbmVudCwgSXRlbVZpZXcsIFdvcmtzcGFjZUxlYWYgfSBmcm9tICdvYnNpZGlhbidcblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2NoYWxrL2Fuc2ktcmVnZXgvYmxvYi9tYWluL2luZGV4LmpzI0wzXG5leHBvcnQgY29uc3QgQU5TSV9DT0RFX1JFR0VYID0gW1xuXHQnW1xcXFx1MDAxQlxcXFx1MDA5Ql1bW1xcXFxdKCkjOz9dKig/Oig/Oig/OlthLXpBLVpcXFxcZF0qKD86O1stYS16QS1aXFxcXGRcXFxcLyMmLjo9PyVAfl9dKikqKT9cXFxcdTAwMDcpJyxcblx0Jyg/Oig/OlxcXFxkezEsNH0oPzo7XFxcXGR7MCw0fSkqKT9bXFxcXGRBLVBSLVRaY2YtbnRxcnk9Pjx+XSkpJ1xuXS5qb2luKCd8JylcblxuZXhwb3J0IGNvbnN0IFZJRVdfVFlQRV9PVVRQVVQgPSAnY29tbWFuZGVyLW91dHB1dCdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3V0cHV0VmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcblx0b3V0cHV0RWxlbTogSFRNTEVsZW1lbnQ7XG5cdHBsdWdpbjogQ29tbWFuZGVyUGx1Z2luXG5cblx0Y29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgcGx1Z2luOiBDb21tYW5kZXJQbHVnaW4pIHtcblx0XHRzdXBlcihsZWFmKVxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luXG5cdH1cblxuXHRnZXRWaWV3VHlwZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBWSUVXX1RZUEVfT1VUUFVUXG5cdH1cblxuXHRnZXREaXNwbGF5VGV4dCgpOiBzdHJpbmcge1xuXHRcdHJldHVybiAnQ29tbWFuZGVyJ1xuXHR9XG5cblx0Z2V0SWNvbigpOiBzdHJpbmcge1xuXHRcdHJldHVybiAnY29uc29sZSdcblx0fVxuXG5cdGFzeW5jIG9uT3BlbigpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKVxuXG5cdFx0Y29uc3QgYnV0dG9uQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jylcblx0XHRidXR0b25Db250YWluZXIuYWRkQ2xhc3MoJ25hdi1oZWFkZXInKVxuXHRcdGJ1dHRvbkNvbnRhaW5lci5hZGRDbGFzcygnY29tbWFuZGVyLWhlYWRlcicpXG5cdFx0Y29udGFpbmVyRWwuYXBwZW5kQ2hpbGQoYnV0dG9uQ29udGFpbmVyKVxuXG5cdFx0bmV3IEJ1dHRvbkNvbXBvbmVudChidXR0b25Db250YWluZXIpXG5cdFx0XHQuc2V0SWNvbignY29weScpXG5cdFx0XHQuc2V0VG9vbHRpcCgnQ29weSBvdXRwdXQnKVxuXHRcdFx0Lm9uQ2xpY2soKCkgPT4ge1xuXHRcdFx0XHR0aGlzLmNvcHlDb250ZW50VG9DbGlwYm9hcmQoKVxuXHRcdFx0fSlcblxuXHRcdG5ldyBCdXR0b25Db21wb25lbnQoYnV0dG9uQ29udGFpbmVyKVxuXHRcdFx0LnNldEljb24oJ2Nyb3NzJylcblx0XHRcdC5zZXRUb29sdGlwKCdDbGVhciBvdXRwdXQnKVxuXHRcdFx0Lm9uQ2xpY2soKCkgPT4ge1xuXHRcdFx0XHR0aGlzLmNsZWFyKClcblx0XHRcdH0pXG5cblx0XHRuZXcgQnV0dG9uQ29tcG9uZW50KGJ1dHRvbkNvbnRhaW5lcilcblx0XHRcdC5zZXRJY29uKCdzdG9wJylcblx0XHRcdC5zZXRUb29sdGlwKCdTdG9wIHJ1bm5pbmcgc2NyaXB0cycpXG5cdFx0XHQub25DbGljaygoKSA9PiB7XG5cdFx0XHRcdGlmICh0aGlzLnBsdWdpbi5ydW5uaW5nU2NyaXB0cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc3RvcEFsbFJ1bm5pbmdTY3JpcHRzKClcblx0XHRcdFx0fVxuXHRcdFx0fSlcblxuXHRcdHRoaXMub3V0cHV0RWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ByZScpXG5cdFx0dGhpcy5vdXRwdXRFbGVtLmFkZENsYXNzKCdjb21tYW5kZXItb3V0cHV0Jylcblx0XHRjb250YWluZXJFbC5hcHBlbmRDaGlsZCh0aGlzLm91dHB1dEVsZW0pXG5cdH1cblxuXHRjbGVhcigpOiB2b2lkIHtcblx0XHR0aGlzLm91dHB1dEVsZW0uaW5uZXJIVE1MID0gJydcblx0fVxuXG5cdGNvcHlDb250ZW50VG9DbGlwYm9hcmQoKTogdm9pZCB7XG5cdFx0bmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGhpcy5vdXRwdXRFbGVtLmlubmVySFRNTC5yZXBsYWNlKC88YnI+L2csIG9zLkVPTCkpXG5cdH1cblxuXHRwcmludChtc2c6IHN0cmluZyk6IHZvaWQge1xuXHRcdG1zZyA9IG1zZy5yZXBsYWNlKG5ldyBSZWdFeHAoQU5TSV9DT0RFX1JFR0VYLCAnZycpLCAnJykgLy8gcmVtb3ZlIEFOU0kgY29udHJvbCBjb2Rlc1xuXHRcdG1zZyA9IG1zZy5yZXBsYWNlKG5ldyBSZWdFeHAob3MuRU9MLCAnZycpLCAnPGJyPicpIC8vIHJlcGxhY2UgZW53IGxpbmUgd2l0aCBiclxuXHRcdFxuXHRcdGlmICh0aGlzLm91dHB1dEVsZW0uaW5uZXJIVE1MLmxlbmd0aCA+IDAgJiYgdGhpcy5vdXRwdXRFbGVtLmlubmVySFRNTC5lbmRzV2l0aCgnPGJyPicpID09PSBmYWxzZSkge1xuXHRcdFx0dGhpcy5vdXRwdXRFbGVtLmlubmVySFRNTCArPSAnPGJyPidcblx0XHR9XG5cdFx0dGhpcy5vdXRwdXRFbGVtLmlubmVySFRNTCArPSBtc2dcblxuXHRcdHRoaXMuY2hlY2tNYXhMaW5lcygpXG5cdFx0dGhpcy5jaGVja1Njcm9sbCgpXG5cdH1cblxuXHRjaGVja01heExpbmVzKCk6IHZvaWQge1xuXHRcdGxldCBsaW5lcyA9IHRoaXMub3V0cHV0RWxlbS5pbm5lckhUTUwuc3BsaXQoJzxicj4nKVxuXHRcdGNvbnN0IG92ZXJMaW1pdCA9IGxpbmVzLmxlbmd0aCAtIHRoaXMucGx1Z2luLnNldHRpbmdzLm91dHB1dE1heExpbmVzXG5cdFx0aWYgKG92ZXJMaW1pdCA8PSAwKSB7XG5cdFx0XHRyZXR1cm5cblx0XHR9XG5cblx0XHRsaW5lcyA9IGxpbmVzLnNsaWNlKG92ZXJMaW1pdCAtIDEpXG5cdFx0dGhpcy5vdXRwdXRFbGVtLmlubmVySFRNTCA9IGxpbmVzLmpvaW4oJzxicj4nKVxuXHR9XG5cblx0Y2hlY2tTY3JvbGwoKTogdm9pZCB7XG5cdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVBdXRvU2Nyb2xsKSB7XG5cdFx0XHRyZXR1cm5cblx0XHR9XG5cblx0XHR0aGlzLm91dHB1dEVsZW0uc2Nyb2xsVG9wID0gdGhpcy5vdXRwdXRFbGVtLnNjcm9sbEhlaWdodFxuXHR9XG59XG4iLCJpbXBvcnQgeyBCdXR0b25Db21wb25lbnQsIE5vdGljZSwgUGx1Z2luLCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSAnb2JzaWRpYW4nXHJcbmltcG9ydCAnLi9saWIvaWNvbnMnXHJcbmltcG9ydCB7IGdldEFsbFN1cHBvcnRlZExhbmd1YWdlcywgUGx1Z2luU2V0dGluZ3MgfSBmcm9tICcuL3NldHRpbmdzJ1xyXG5pbXBvcnQgU2V0dGluZ1RhYiBmcm9tICcuL3NldHRpbmdzLXRhYidcclxuaW1wb3J0IHsgREVGQVVMVF9TRVRUSU5HUyB9IGZyb20gJy4vc2V0dGluZ3MnXHJcbmltcG9ydCBTY3JpcHQgZnJvbSAnLi9zY3JpcHQnXHJcbmltcG9ydCBPdXRwdXRWaWV3LCB7IFZJRVdfVFlQRV9PVVRQVVQgfSBmcm9tICcuL291dHB1dC12aWV3J1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tbWFuZGVyUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcclxuXHRzZXR0aW5nczogUGx1Z2luU2V0dGluZ3M7XHJcblx0ZWRpdG9yOiBDb2RlTWlycm9yLkVkaXRvcjtcclxuXHRydW5uaW5nU2NyaXB0czogU2NyaXB0W107XHJcblx0b3V0cHV0VmlldzogT3V0cHV0VmlldztcclxuXHRzdGF0dXNCYXJJdGVtOiBIVE1MRWxlbWVudDtcclxuXHJcblx0YXN5bmMgb25sb2FkKCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKVxyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSlcclxuXHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVTdGF0dXNCYXJJdGVtKSB7XHJcblx0XHRcdHRoaXMuaW5pdFN0YXR1c0Jhckl0ZW0oKVxyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMucmVnaXN0ZXJJbnRlcnZhbCh3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG5cdFx0XHRpZiAodGhpcy5zdGF0dXNCYXJJdGVtKSB7XHJcblx0XHRcdFx0dGhpcy5zdGF0dXNCYXJJdGVtLnNldFRleHQoYCR7dGhpcy5ydW5uaW5nU2NyaXB0cy5sZW5ndGh9IHJ1bm5pbmcgc2NyaXB0c2ApXHJcblx0XHRcdH1cclxuXHRcdH0sIDEwMDApKVxyXG5cclxuXHRcdHRoaXMucmVnaXN0ZXJWaWV3KFxyXG5cdFx0XHRWSUVXX1RZUEVfT1VUUFVULFxyXG5cdFx0XHQobGVhZjogV29ya3NwYWNlTGVhZikgPT4ge1xyXG5cdFx0XHRcdHRoaXMub3V0cHV0VmlldyA9IG5ldyBPdXRwdXRWaWV3KGxlYWYsIHRoaXMpXHJcblx0XHRcdFx0cmV0dXJuIHRoaXMub3V0cHV0Vmlld1xyXG5cdFx0XHR9XHJcblx0XHQpXHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdhcHA6c2hvdy1jb21tYW5kZXItb3V0cHV0JyxcclxuXHRcdFx0bmFtZTogJ1Nob3cgY29uc29sZSBvdXRwdXQnLFxyXG5cdFx0XHRjYWxsYmFjazogKCkgPT4gdGhpcy5pbml0TGVhZigpLFxyXG5cdFx0XHRob3RrZXlzOiBbXVxyXG5cdFx0fSlcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ2FwcDpjbGVhbi1jb21tYW5kZXItc2NyaXB0cycsXHJcblx0XHRcdG5hbWU6ICdDbGVhbiBjb25zb2xlIG91dHB1dCcsXHJcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKHRoaXMub3V0cHV0Vmlldykge1xyXG5cdFx0XHRcdFx0dGhpcy5vdXRwdXRWaWV3LmNsZWFyKClcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdGhvdGtleXM6IFtdXHJcblx0XHR9KVxyXG5cclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnYXBwOmNvcHktY29tbWFuZGVyLXNjcmlwdHMnLFxyXG5cdFx0XHRuYW1lOiAnQ29weSBjb25zb2xlIG91dHB1dCcsXHJcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKHRoaXMub3V0cHV0Vmlldykge1xyXG5cdFx0XHRcdFx0dGhpcy5vdXRwdXRWaWV3LmNvcHlDb250ZW50VG9DbGlwYm9hcmQoKVxyXG5cdFx0XHRcdFx0bmV3IE5vdGljZSgnQ29uc29sZSBvdXRwdXQgY29waWVkIScpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRob3RrZXlzOiBbXVxyXG5cdFx0fSlcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ2FwcDpzdG9wLWNvbW1hbmRlci1zY3JpcHRzJyxcclxuXHRcdFx0bmFtZTogJ1N0b3AgYWxsIGNvbW1hbmRzJyxcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHRjb25zdCBzY3JpcHRDb3VudCA9IHRoaXMucnVubmluZ1NjcmlwdHMubGVuZ3RoXHJcblx0XHRcdFx0aWYgKHNjcmlwdENvdW50ID09PSAwKSB7XHJcblx0XHRcdFx0XHRuZXcgTm90aWNlKCdObyBydW5uaW5nIHNjcmlwcyBmb3VuZCcpXHJcblx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dGhpcy5zdG9wQWxsUnVubmluZ1NjcmlwdHMoKVxyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYCR7c2NyaXB0Q291bnR9IHNjcmlwdHMgc3RvcHBlZGApXHJcblx0XHRcdH0sXHJcblx0XHRcdGhvdGtleXM6IFtdXHJcblx0XHR9KVxyXG5cclxuXHRcdHRoaXMucnVubmluZ1NjcmlwdHMgPSBbXVxyXG5cclxuXHRcdHRoaXMucmVnaXN0ZXJNYXJrZG93blBvc3RQcm9jZXNzb3IodGhpcy5wb3N0UHJvY2Vzc29yLmJpbmQodGhpcykpXHJcblx0fVxyXG5cclxuXHRpbml0U3RhdHVzQmFySXRlbSgpOiB2b2lkIHtcclxuXHRcdGlmICh0aGlzLnN0YXR1c0Jhckl0ZW0pIHtcclxuXHRcdFx0cmV0dXJuXHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5zdGF0dXNCYXJJdGVtID0gdGhpcy5hZGRTdGF0dXNCYXJJdGVtKClcclxuXHR9XHJcblxyXG5cdGNsZWFyU3RhdHVzQmFySXRlbSgpOiB2b2lkIHtcclxuXHRcdGlmICghdGhpcy5zdGF0dXNCYXJJdGVtKSB7XHJcblx0XHRcdHJldHVyblxyXG5cdFx0fVxyXG5cdFx0dGhpcy5zdGF0dXNCYXJJdGVtLnJlbW92ZSgpXHJcblx0XHR0aGlzLnN0YXR1c0Jhckl0ZW0gPSBudWxsXHJcblx0fVxyXG5cclxuXHRpbml0TGVhZigpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHsgd29ya3NwYWNlIH0gPSB0aGlzLmFwcFxyXG5cclxuXHRcdGlmICh3b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9PVVRQVVQpLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0cmV0dXJuXHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgbGVhZiA9IHdvcmtzcGFjZS5nZXRSaWdodExlYWYoZmFsc2UpXHJcblx0XHRpZiAoIWxlYWYpIHtcclxuXHRcdFx0cmV0dXJuXHJcblx0XHR9XHJcblxyXG5cdFx0bGVhZi5zZXRWaWV3U3RhdGUoe1xyXG5cdFx0XHR0eXBlOiBWSUVXX1RZUEVfT1VUUFVULFxyXG4gICAgICBhY3RpdmU6IHRydWUsXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0Y2xlYXJMZWFmKCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgeyB3b3Jrc3BhY2UgfSA9IHRoaXMuYXBwXHJcblx0XHR3b3Jrc3BhY2VcclxuXHRcdFx0LmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfT1VUUFVUKVxyXG5cdFx0XHQuZm9yRWFjaCgobGVhZikgPT4gbGVhZi5kZXRhY2goKSlcclxuXHR9XHJcblxyXG5cdHBvc3RQcm9jZXNzb3IoZWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0XHRjb25zdCBjb2RlQmxvY2tzID0gQXJyYXkuZnJvbShlbC5xdWVyeVNlbGVjdG9yQWxsKCdjb2RlJykpXHJcblxyXG5cdFx0aWYgKCFjb2RlQmxvY2tzLmxlbmd0aCkge1xyXG5cdFx0XHRyZXR1cm5cclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBzdXBwb3J0ZWRMYW5ndWFnZXMgPSBnZXRBbGxTdXBwb3J0ZWRMYW5ndWFnZXModGhpcy5zZXR0aW5ncylcclxuXHJcblx0XHRmb3IgKGNvbnN0IGNvZGVCbG9jayBvZiBjb2RlQmxvY2tzKSB7XHJcblx0XHRcdGNvbnN0IHN1cHBvcnRlZExhbmcgPSBBcnJheS5mcm9tKGNvZGVCbG9jay5jbGFzc0xpc3QpLmZpbmQoY2xzID0+IHtcclxuXHRcdFx0XHRjb25zdCBtYXRjaCA9IGNscy5tYXRjaCgnXmxhbmd1YWdlLSgnICsgc3VwcG9ydGVkTGFuZ3VhZ2VzICsgJykkJylcclxuXHRcdFx0XHRyZXR1cm4gbWF0Y2ggIT09IG51bGxcclxuXHRcdFx0fSlcclxuXHJcblx0XHRcdGlmICghc3VwcG9ydGVkTGFuZykge1xyXG5cdFx0XHRcdGNvbnRpbnVlXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IHNjcmlwdCA9IG5ldyBTY3JpcHQodGhpcylcclxuXHRcdFx0c2NyaXB0LmFkZENvbnRlbnQoY29kZUJsb2NrLmdldFRleHQoKSlcclxuXHRcdFx0c2NyaXB0LnNldFR5cGUoc3VwcG9ydGVkTGFuZy5yZXBsYWNlKCdsYW5ndWFnZS0nLCAnJykpXHJcblxyXG5cdFx0XHRjb2RlQmxvY2sucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmFkZENsYXNzKCdjb21tYW5kZXItYmxvY2stcmVsYXRpdmUnKVxyXG5cdFx0XHR0aGlzLmNyZWF0ZUJ1dHRvbihzY3JpcHQsIGNvZGVCbG9jay5wYXJlbnRFbGVtZW50KVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y3JlYXRlQnV0dG9uKHNjcmlwdDogU2NyaXB0LCBwYXJlbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcblx0XHRjb25zdCBydW5CdG4gPSBuZXcgQnV0dG9uQ29tcG9uZW50KHBhcmVudClcclxuXHRcdFx0LnNldEJ1dHRvblRleHQoJ0V4ZWN1dGUnKVxyXG5cdFx0XHQuc2V0Q2xhc3MoJ2V4ZWN1dGUtY29kZS1idXR0b24nKVxyXG5cdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0cnVuQnRuLnNldERpc2FibGVkKHRydWUpXHJcblxyXG5cdFx0XHRcdHRoaXMucnVubmluZ1NjcmlwdHMucHVzaChzY3JpcHQpXHJcblxyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRhd2FpdCBzY3JpcHQucnVuKClcclxuXHRcdFx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRcdFx0dGhpcy5ydW5uaW5nU2NyaXB0cy5zcGxpY2UodGhpcy5ydW5uaW5nU2NyaXB0cy5pbmRleE9mKHNjcmlwdCksIDEpXHJcblx0XHRcdFx0XHRydW5CdG4uc2V0RGlzYWJsZWQoZmFsc2UpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3RvcEFsbFJ1bm5pbmdTY3JpcHRzKCk6IHZvaWQge1xyXG5cdFx0Zm9yIChjb25zdCBzY3JpcHQgb2YgdGhpcy5ydW5uaW5nU2NyaXB0cykge1xyXG5cdFx0XHRzY3JpcHQuY29tbWFuZC5raWxsKClcclxuXHRcdH1cclxuXHRcdHRoaXMucnVubmluZ1NjcmlwdHMgPSBbXVxyXG5cdH1cclxuXHJcblx0YXN5bmMgbG9hZFNldHRpbmdzKCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSlcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZVN0YXR1c0Jhckl0ZW0pIHtcclxuXHRcdFx0dGhpcy5pbml0U3RhdHVzQmFySXRlbSgpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmNsZWFyU3RhdHVzQmFySXRlbSgpXHJcblx0XHR9XHJcblxyXG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKVxyXG5cdH1cclxuXHJcblx0b251bmxvYWQoKTogdm9pZCB7XHJcblx0XHR0aGlzLmNsZWFyTGVhZigpXHJcblx0XHR0aGlzLnN0b3BBbGxSdW5uaW5nU2NyaXB0cygpXHJcblx0fVxyXG59XHJcbiJdLCJuYW1lcyI6WyJhZGRJY29uIiwib3MiLCJQbHVnaW5TZXR0aW5nVGFiIiwiU2V0dGluZyIsIk5vdGljZSIsInBhdGgiLCJmcyIsInNwYXduIiwiSXRlbVZpZXciLCJCdXR0b25Db21wb25lbnQiLCJQbHVnaW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXVEQTtBQUNPLFNBQVMsU0FBUyxDQUFDLE9BQU8sRUFBRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRTtBQUM3RCxJQUFJLFNBQVMsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLE9BQU8sS0FBSyxZQUFZLENBQUMsR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsVUFBVSxPQUFPLEVBQUUsRUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRTtBQUNoSCxJQUFJLE9BQU8sS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLE9BQU8sQ0FBQyxFQUFFLFVBQVUsT0FBTyxFQUFFLE1BQU0sRUFBRTtBQUMvRCxRQUFRLFNBQVMsU0FBUyxDQUFDLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFD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
